<app-form
  #form
  [title]="'table-detail.header' | translate"
  [icon]="icon"
  [obj]="obj"
  [cols]="cols"
  [postPath]="postPath"
  (refreshTable)="getRefreshTable()"
>
  <div class="row" form="header" *ngIf="obj.objectDto">
    <div class="col-md-6">
      <p> {{form.getFieldName("firstName") + " " + form.getFieldName("lastName")}}</p>
      <p>{{ form.getFieldName("userName") }}</p>
      <p>{{ form.getFieldName("userEmail") }}</p>
      <p>{{ form.getFieldName("phoneNumber") }}</p>
    </div>
    <div class="col-md-6">
      <p>
        <strong>{{ obj.objectDto.firstName }} {{ obj.objectDto.lastName }}</strong>
      </p>
      <p>
        <strong>{{ obj.objectDto.userName }}</strong>
      </p>
      <p>
        <strong>{{ obj.objectDto.userEmail }}</strong>
      </p>
      <p>
        <strong>{{ obj.objectDto.phoneNumber }}</strong>
      </p>
    </div>
  </div>
  <div class="row" form="body" *ngIf="obj.objectEditDto">
    <div class="col-md">
      <ng-template
        [ngTemplateOutlet]="fieldInputText"
        [ngTemplateOutletContext]="{field:'firstName', model:obj.objectEditDto, require:true, state:obj.editState}">
      </ng-template>
      <ng-template
        [ngTemplateOutlet]="fieldInputText"
        [ngTemplateOutletContext]="{field:'lastName', model:obj.objectEditDto, require:true, state:obj.editState}">
      </ng-template>
      <ng-template
        [ngTemplateOutlet]="fieldInputDate"
        [ngTemplateOutletContext]="{field:'evaluationDate', model:obj.objectEditDto, state:obj.editState}">
      </ng-template>

      <ng-template
        [ngTemplateOutlet]="fieldInputCheckbox"
        [ngTemplateOutletContext]="{field:'isAdmin', model:obj.objectEditDto, state:obj.editState}">
      </ng-template>
    </div>
    <div class="col-md">
      <ng-template
        [ngTemplateOutlet]="fieldInputText"
        [ngTemplateOutletContext]="{field:'userName', model:obj.objectEditDto, state:obj.editState, require:true}">
      </ng-template>
      <ng-template
        [ngTemplateOutlet]="fieldInputText"
        [ngTemplateOutletContext]="{field:'userEmail', model:obj.objectEditDto, state:obj.editState, require:true}">
      </ng-template>
      <ng-template
        [ngTemplateOutlet]="fieldInputText"
        [ngTemplateOutletContext]="{field:'phoneNumber', model:obj.objectEditDto, state:obj.editState}">
    </ng-template>
    </div>
  </div>
</app-form>



<ng-template #fieldInputDate
  let-field="field"
  let-model="model"
  let-require="require"
  let-state="state">
  <div class="form-group">
    <label [for]="field" [ngClass]="{'required-field':require===true}">{{ form.getFieldName(field) }}</label>
    <input
      pInputText
      type='date'
      [disabled]="!state"
      [value]="true"
      id={{field}}
      name={{field}}
      class="p-inputtext-sm form-control"
      [(ngModel)]= "model[field]"
    />
  </div>
</ng-template>

<ng-template #fieldInputCheckbox
  let-field="field"
  let-model="model"
  let-require="require"
  let-state="state">
  <div class="form-group">
    <label [for]="field">{{ form.getFieldName(field) }}</label>
    <p-checkbox
      [(ngModel)]="model[field]"
      [disabled]="!state"
      [binary]="true"
      name={{field}}>
    </p-checkbox>
  </div>
</ng-template>

<ng-template #fieldInputText
let-field="field"
let-model="model"
let-require="require"
let-state="state">
<div class="form-group">
  <label  [for]="field" [ngClass]="{'required-field':require===true}">{{ form.getFieldName(field) }}</label>
  <input
    pInputText
    type='text'
    [disabled]="!state"
    id={{field}}
    name={{field}}
    class="p-inputtext-sm form-control"
    [(ngModel)]= "model[field]"
  />
</div>
</ng-template>
